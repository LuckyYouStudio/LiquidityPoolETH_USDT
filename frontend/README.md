# 🌐 ETH-USDT 流动性池 Web 界面

## 🚀 快速启动

### 前提条件
1. **本地节点运行中**（在终端1）
   ```bash
   npm run node
   ```

2. **合约已部署**（在终端2）
   ```bash
   npm run deploy:localhost
   ```

3. **安装 MetaMask** 浏览器扩展

### 启动前端

#### 方式1：自动打开浏览器
```bash
npm run dev
```

#### 方式2：手动访问
```bash
npm run frontend
```
然后打开浏览器访问: http://localhost:3000

## 🔧 MetaMask 配置

### 添加本地测试网络
1. 打开 MetaMask
2. 点击网络选择器
3. 添加网络
4. 输入以下信息：
   - 网络名称: `Localhost 8545`
   - RPC URL: `http://localhost:8545`
   - 链 ID: `1337` 或 `31337`
   - 货币符号: `ETH`

### 导入测试账户
使用 Hardhat 默认助记词：
```
test test test test test test test test test test test junk
```

或导入私钥（第一个账户）：
```
0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
```

## 💻 功能介绍

### 1. 🔄 代币交换
- ETH ⇄ USDT 双向交换
- 实时价格计算
- 滑点保护设置
- 价格影响显示

### 2. 💧 流动性管理
- **添加流动性**：按比例提供 ETH 和 USDT
- **移除流动性**：燃烧 LP 代币取回资产
- 实时显示份额占比
- LP 代币余额追踪

### 3. 🎁 测试水龙头
- 一键获取 10,000 USDT 测试币
- 方便测试各项功能

### 4. 📊 实时数据
- 账户余额（ETH/USDT/LP）
- 池子储备量
- 当前汇率
- 交易历史记录

## 🎯 使用流程

### 初次使用
1. 连接 MetaMask 钱包
2. 从水龙头获取测试 USDT
3. 添加初始流动性（如: 1 ETH + 3000 USDT）
4. 测试交换功能

### 交换代币
1. 选择 "交换" 标签
2. 输入要交换的数量
3. 查看预计获得数量和价格影响
4. 设置滑点容忍度
5. 点击 "交换" 执行

### 提供流动性
1. 选择 "流动性" 标签
2. 点击 "添加流动性"
3. 输入 ETH 和 USDT 数量
4. 查看预计获得的 LP 代币
5. 点击 "添加流动性"

### 移除流动性
1. 选择 "流动性" 标签
2. 点击 "移除流动性"
3. 输入 LP 代币数量或使用滑块
4. 查看预计获得的 ETH 和 USDT
5. 点击 "移除流动性"

## 🎨 界面特点

- **响应式设计**：适配桌面和移动设备
- **实时更新**：自动刷新余额和价格
- **友好提示**：操作反馈和错误提示
- **加载动画**：交易处理时的视觉反馈
- **交易历史**：记录最近的操作

## 📝 注意事项

1. **Gas 费用**：确保账户有足够的 ETH 支付 gas
2. **批准操作**：交换和添加流动性前需要批准 USDT
3. **滑点设置**：大额交易建议提高滑点容忍度
4. **价格影响**：注意大额交易对价格的影响

## 🐛 常见问题

### MetaMask 连接失败
- 确保选择了正确的网络（Localhost 8545）
- 刷新页面重试

### 交易失败
- 检查余额是否充足
- 增加滑点容忍度
- 确保合约已正确部署

### 页面不显示数据
- 确保本地节点正在运行
- 检查浏览器控制台错误信息
- 重新部署合约

## 🔗 相关链接

- [主项目 README](../README.md)
- [测试指南](../TEST_GUIDE.md)
- [合约文档](../contracts/)

---

Happy Testing! 🚀