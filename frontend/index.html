<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETH-USDT ÊµÅÂä®ÊÄßÊ±†</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Â§¥ÈÉ® -->
        <header>
            <h1>üåä ETH-USDT AMM ÊµÅÂä®ÊÄßÊ±†</h1>
            <div class="wallet-info">
                <button id="connectWallet" class="btn btn-primary">ËøûÊé•Èí±ÂåÖ</button>
                <div id="walletAddress" class="hidden">
                    <span class="address"></span>
                    <button id="disconnectWallet" class="btn btn-small">Êñ≠ÂºÄ</button>
                </div>
            </div>
        </header>

        <!-- ‰ΩôÈ¢ùÊòæÁ§∫ -->
        <div class="balance-section">
            <div class="balance-card">
                <h3>Ë¥¶Êà∑‰ΩôÈ¢ù</h3>
                <div class="balances">
                    <div class="balance-item">
                        <span class="token">ETH:</span>
                        <span id="ethBalance">0.00</span>
                    </div>
                    <div class="balance-item">
                        <span class="token">USDT:</span>
                        <span id="usdtBalance">0.00</span>
                    </div>
                    <div class="balance-item">
                        <span class="token">LP Token:</span>
                        <span id="lpBalance">0.00</span>
                    </div>
                    <div class="balance-item">
                        <span class="token">LP ‰ª∑ÂÄº:</span>
                        <span id="lpValue">$0.00</span>
                    </div>
                </div>
            </div>
            <div class="pool-card">
                <h3>ÊµÅÂä®ÊÄßÊ±†Áä∂ÊÄÅ <span id="updateIndicator" class="update-indicator">üîÑ</span></h3>
                <div class="pool-info">
                    <div class="pool-item">
                        <span class="label">ETH ÂÇ®Â§á:</span>
                        <span id="ethReserve">0.00</span>
                    </div>
                    <div class="pool-item">
                        <span class="label">USDT ÂÇ®Â§á:</span>
                        <span id="usdtReserve">0.00</span>
                    </div>
                    <div class="pool-item">
                        <span class="label">ETH ‰ª∑Ê†º:</span>
                        <span id="ethPrice">$0.00</span>
                    </div>
                    <div class="pool-item">
                        <span class="label">Ê±†Â≠êÊÄª‰ª∑ÂÄº:</span>
                        <span id="poolTotalValue">$0.00</span>
                    </div>
                    <div class="pool-item">
                        <span class="label">ÂΩìÂâçÊØî‰æã:</span>
                        <span id="price">1 ETH = 0 USDT</span>
                    </div>
                    <div class="pool-item">
                        <span class="label">ÊÄª LP ‰ª£Â∏Å:</span>
                        <span id="totalLp">0.00</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ‰∏ªÊìç‰ΩúÂå∫Âüü -->
        <div class="main-content">
            <!-- Ê†áÁ≠æÈ°µ -->
            <div class="tabs">
                <button class="tab-button active" data-tab="swap">üîÑ ‰∫§Êç¢</button>
                <button class="tab-button" data-tab="liquidity">üíß ÊµÅÂä®ÊÄß</button>
                <button class="tab-button" data-tab="faucet">üéÅ Ê∞¥ÈæôÂ§¥</button>
            </div>

            <!-- ‰∫§Êç¢Èù¢Êùø -->
            <div id="swapPanel" class="tab-panel active">
                <h2>‰∫§Êç¢‰ª£Â∏Å</h2>
                <div class="swap-container">
                    <div class="input-group">
                        <label>‰ªé</label>
                        <div class="token-input">
                            <input type="number" id="swapFromAmount" placeholder="0.0" step="0.01">
                            <select id="swapFromToken">
                                <option value="ETH">ETH</option>
                                <option value="USDT">USDT</option>
                            </select>
                        </div>
                    </div>
                    
                    <button id="swapDirection" class="swap-direction">‚áÖ</button>
                    
                    <div class="input-group">
                        <label>Âà∞</label>
                        <div class="token-input">
                            <input type="number" id="swapToAmount" placeholder="0.0" step="0.01">
                            <select id="swapToToken">
                                <option value="USDT">USDT</option>
                                <option value="ETH">ETH</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="swap-info">
                        <div class="info-row">
                            <span>‰ª∑Ê†ºÂΩ±Âìç:</span>
                            <span id="priceImpact">0.00%</span>
                        </div>
                        <div class="info-row">
                            <span>ÊâãÁª≠Ë¥π (0.3%):</span>
                            <span id="swapFee">0.00</span>
                        </div>
                        <div class="info-row">
                            <span>ÊªëÁÇπÂÆπÂøç:</span>
                            <input type="number" id="slippage" value="1" min="0.1" max="50" step="0.1">%
                        </div>
                    </div>
                    
                    <button id="swapButton" class="btn btn-primary btn-large">‰∫§Êç¢</button>
                </div>
            </div>

            <!-- ÊµÅÂä®ÊÄßÈù¢Êùø -->
            <div id="liquidityPanel" class="tab-panel">
                <div class="liquidity-tabs">
                    <button class="sub-tab active" data-action="add">Ê∑ªÂä†ÊµÅÂä®ÊÄß</button>
                    <button class="sub-tab" data-action="remove">ÁßªÈô§ÊµÅÂä®ÊÄß</button>
                </div>
                
                <!-- Ê∑ªÂä†ÊµÅÂä®ÊÄß -->
                <div id="addLiquiditySection" class="liquidity-section active">
                    <h3>Ê∑ªÂä†ÊµÅÂä®ÊÄß</h3>
                    <div class="input-group">
                        <label>ETH Êï∞Èáè</label>
                        <input type="number" id="addEthAmount" placeholder="0.0" step="0.01">
                    </div>
                    <div class="input-group">
                        <label>USDT Êï∞Èáè</label>
                        <input type="number" id="addUsdtAmount" placeholder="0.0" step="0.01">
                    </div>
                    <div class="liquidity-info">
                        <div class="info-row">
                            <span>ÂΩìÂâçÊØî‰æã:</span>
                            <span id="currentRatio">-</span>
                        </div>
                        <div class="info-row">
                            <span>È¢ÑËÆ°Ëé∑Âæó LP:</span>
                            <span id="expectedLp">0.00</span>
                        </div>
                        <div class="info-row">
                            <span>‰ªΩÈ¢ùÂç†ÊØî:</span>
                            <span id="sharePercent">0.00%</span>
                        </div>
                    </div>
                    <button id="addLiquidityButton" class="btn btn-primary btn-large">Ê∑ªÂä†ÊµÅÂä®ÊÄß</button>
                </div>
                
                <!-- ÁßªÈô§ÊµÅÂä®ÊÄß -->
                <div id="removeLiquiditySection" class="liquidity-section">
                    <h3>ÁßªÈô§ÊµÅÂä®ÊÄß</h3>
                    <div class="input-group">
                        <label>LP Token Êï∞Èáè</label>
                        <input type="number" id="removeLpAmount" placeholder="0.0" step="0.000001">
                        <button id="maxLpButton" class="btn btn-small">MAX</button>
                    </div>
                    <div class="remove-slider">
                        <input type="range" id="removePercent" min="0" max="100" value="0">
                        <div class="slider-labels">
                            <span>0%</span>
                            <span>25%</span>
                            <span>50%</span>
                            <span>75%</span>
                            <span>100%</span>
                        </div>
                    </div>
                    <div class="liquidity-info">
                        <div class="info-row">
                            <span>È¢ÑËÆ°Ëé∑Âæó ETH:</span>
                            <span id="expectedEth">0.00</span>
                        </div>
                        <div class="info-row">
                            <span>È¢ÑËÆ°Ëé∑Âæó USDT:</span>
                            <span id="expectedUsdt">0.00</span>
                        </div>
                    </div>
                    <button id="removeLiquidityButton" class="btn btn-primary btn-large">ÁßªÈô§ÊµÅÂä®ÊÄß</button>
                </div>
            </div>

            <!-- Ê∞¥ÈæôÂ§¥Èù¢Êùø -->
            <div id="faucetPanel" class="tab-panel">
                <h2>ÊµãËØï‰ª£Â∏ÅÊ∞¥ÈæôÂ§¥</h2>
                <div class="faucet-container">
                    <p>Ëé∑ÂèñÊµãËØï‰ª£Â∏ÅÁî®‰∫é‰ΩìÈ™åÊµÅÂä®ÊÄßÊ±†ÂäüËÉΩ</p>
                    <div class="faucet-buttons">
                        <button id="getUsdtButton" class="btn btn-primary">
                            Ëé∑Âèñ 10,000 USDT
                        </button>
                        <button id="getEthButton" class="btn btn-primary">
                            Ëé∑Âèñ 1 ETH (‰ªéÊ∞¥ÈæôÂ§¥)
                        </button>
                    </div>
                    <div id="faucetMessage" class="message"></div>
                </div>
            </div>
        </div>

        <!-- ‰∫§ÊòìÂéÜÂè≤ -->
        <div class="history-section">
            <h3>ÊúÄËøë‰∫§Êòì</h3>
            <div id="transactionHistory" class="history-list">
                <p class="no-history">ÊöÇÊó†‰∫§ÊòìËÆ∞ÂΩï</p>
            </div>
        </div>

        <!-- ÊèêÁ§∫‰ø°ÊÅØ -->
        <div id="toast" class="toast"></div>
        
        <!-- Âä†ËΩΩÈÅÆÁΩ© -->
        <div id="loadingOverlay" class="loading-overlay hidden">
            <div class="spinner"></div>
            <p>Â§ÑÁêÜ‰∏≠...</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script src="abi.js"></script>
    <script src="app.js"></script>
</body>
</html>